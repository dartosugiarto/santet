:root {
    --bg-app: #F5F7FA;
    --primary: #2563EB;      /* Biru Sains */
    --myth: #DC2626;         /* Merah Mistik */
    --chemical: #8B5CF6;     /* Ungu Kimia */
    --memory: #059669;       /* Hijau Memori */
    --text-dark: #1E293B;
    --text-gray: #64748B;
    --card-bg: #FFFFFF;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    font-family: 'Inter', sans-serif;
    background-color: var(--bg-app);
    color: var(--text-dark);
    display: flex;
    justify-content: center;
    padding: 20px;
    min-height: 100vh;
}

.main-container {
    width: 100%;
    max-width: 1000px;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

header { text-align: center; margin-bottom: 10px; }
header h1 { font-size: 24px; font-weight: 700; color: var(--text-dark); }
header p { font-size: 14px; color: var(--text-gray); }

/* --- DIAGRAM AREA --- */
.diagram-area {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.05);
    padding: 20px;
    text-align: center;
    overflow-x: auto;
}

svg { width: 100%; height: auto; min-width: 800px; }

.edge-line { fill: none; stroke: #CBD5E1; stroke-width: 2px; }
.edge-line.dashed { stroke-dasharray: 5,5; }

/* Node Styles */
.node-group { cursor: pointer; transition: 0.2s; }
.node-group:hover .node-rect { filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1)); transform: translateY(-2px); }
.node-group.active .node-rect { stroke: #000; stroke-width: 2px; }

.node-rect { fill: #fff; stroke: #E2E8F0; stroke-width: 1.5px; transition: 0.3s; }
.node-label { font-size: 12px; font-weight: 600; fill: var(--text-dark); text-anchor: middle; pointer-events: none; }

/* Specific Colors */
.node-rect.start { stroke: var(--text-dark); fill: #F1F5F9; }
.node-rect.decision { stroke: var(--primary); stroke-dasharray: 4; }
.node-rect.myth, .node-rect.myth-end { stroke: var(--myth); fill: #FEF2F2; }
.node-rect.science, .node-rect.solution { stroke: var(--primary); fill: #EFF6FF; }
.node-rect.chemical { stroke: var(--chemical); fill: #F5F3FF; }
.node-rect.memory { stroke: var(--memory); fill: #ECFDF5; }

.instruction { font-size: 12px; color: var(--text-gray); margin-top: 10px; font-style: italic; }

/* --- INFO PANEL (DETAILS) --- */
.info-panel {
    background: white;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    padding: 30px;
    animation: slideUp 0.5s ease;
}

@keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

.panel-header { display: flex; align-items: center; gap: 15px; margin-bottom: 20px; border-bottom: 1px solid #E2E8F0; padding-bottom: 15px; }
.icon-badge {
    width: 50px; height: 50px; background: var(--bg-app); border-radius: 12px;
    display: flex; align-items: center; justify-content: center; font-size: 24px;
}

h4 { font-size: 12px; color: var(--primary); letter-spacing: 1px; margin-bottom: 4px; }
h2 { font-size: 20px; color: var(--text-dark); }

.panel-body { display: flex; flex-direction: column; gap: 20px; }
.main-text { font-size: 16px; line-height: 1.6; color: var(--text-dark); }

.cards-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
.mini-card { padding: 15px; border-radius: 12px; background: #F8FAFC; border-left: 4px solid #CBD5E1; }
.mini-card h5 { margin-bottom: 8px; font-size: 12px; color: var(--text-gray); text-transform: uppercase; }
.mini-card p { font-size: 13px; line-height: 1.5; }

.mini-card.analogy { border-color: #F59E0B; background: #FFFBEB; }
.mini-card.study { border-color: var(--primary); background: #EFF6FF; }

.source-citation { font-size: 11px; color: var(--text-gray); text-align: right; margin-top: 10px; }
.source-citation a { color: var(--primary); text-decoration: none; }

/* Responsive */
@media (max-width: 600px) {
    .cards-grid { grid-template-columns: 1fr; }
    svg { min-width: 100%; height: 300px; } /* Diagram scrollable on mobile */
}
